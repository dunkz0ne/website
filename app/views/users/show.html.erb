<style>
  ::-webkit-scrollbar {
      width: 10px;
  }

  ::-webkit-scrollbar-track {
      -webkit-box-shadow: inset 0 0 6px <%= Color::RGB.by_hex(@team.color.delete('#')).darken_by(80).html %>;
      border-radius: 10px;
  }

  ::-webkit-scrollbar-thumb {
      -webkit-box-shadow: inset 20px 0 6px <%= Color::RGB.by_hex(@team.color.delete('#')).darken_by(80).html %>;
  }
</style>

<div id="profilePage" style="background-color: <%= Color::RGB.by_hex(@team.color.delete('#')).darken_by(80).html %>;">
  <div id="Navbar">
    <nav class="navbar navbar-expand-lg navbar-light" style="background-color: <%= @team.color %>;">
        <div class="container-fluid">
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav navItems">
                <li class="nav-item">
                    <i class="nav-icon fa-solid fa-people-group"></i>
                    <%= active_link_to 'Team', "/teams/#{@team.id}", active: :exclusive, class: 'navElement' %>
                </li>
                <li class="nav-item">
                    <i class="nav-icon fa-solid fa-basketball"></i>
                    <%= active_link_to 'Matches', matches_url(number: 3), active: :exclusive, class: 'navElement' %>
                </li>
                <li class="nav-item">
                    <i class="nav-icon fa-solid fa-newspaper"></i>
                    <%= active_link_to 'News', '/news', active: :exclusive, class: 'navElement' %>                
                </li>
                <li>
                    <%= active_link_to(dashboard_path) do %>
                    <img id="logoTeamNav" src="https://cdn.nba.com/logos/nba/<%= @team.api %>/primary/L/logo.svg" />
                    <% end %>                
                </li>

                <li class="nav-item">
                    <i class="nav-icon fa-solid fa-trophy"></i>
                    <%= active_link_to 'League', '/league', active: :exclusive, class: 'navElement' %>
                </li>
                </li>
                <li class="nav-item">
                    <i class="nav-icon fa-solid fa-cart-shopping"></i>
                    <%= active_link_to 'Shop', "https://www.nbastore.eu/en/#{@team.name.downcase.gsub(' ', '-')}", active: :exclusive, class: 'navElement' %>
                </li>
                </li>
                <li class="nav-item">
                    <i class="nav-icon fa-solid fa-user"></i>
                    <%= active_link_to 'Profile', user_path(id: session[:user_id]), active: :exclusive, class: 'navElement' %>  
                </li>
                </li>
            </ul>
            </div>
        </div>
    </nav>
  </div>

  <div id="profile">
    <div class="container profileSection" style="background-color: <%= @team.color %>;">
      <div class="row">
        <div class="col">
          <div class="container-fluid">
            <div class="row rowBreak" style="align-items: center;">
              <div class="col" style="text-align: center;">
                <div class="profilePic-container">
                  <%= image_tag url_for(@user.photo), class: "profilePic" if @user.photo.attached? %>
                </div>
              </div>
              <div class="col" style="display: flex;">
                <div class="container genSection">
                  <div class="row" style="margin-bottom: 4vh;">
                    <div class="col" style="padding: 0;">
                      <div class="profileName">
                        <%= @user.name %>
                        <img style="height: 6rem" src="https://cdn.nba.com/logos/nba/<%= @team.api %>/primary/L/logo.svg" />
                      </div>
                      <div class="profileBio">
                        <%= @user.bio %>
                      </div>
                      <div class="editProfile">
                        <button type="button" class="btn btn-light" data-bs-toggle="modal" data-bs-target="#editModal">
                          Edit Profile
                        </button>

                        <div class="modal fade" id="editModal" tabindex="-1" aria-labelledby="editModalLabel" aria-hidden="true" >
                          <div class="modal-dialog">
                            <div class="modal-content" style="background-color: <%= @team.color %>;">
                              <div class="modal-header">
                                <h1 class="modal-title fs-5" id="exampleModalLabel">Edit Profile</h1>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                              </div>
                              <div class="modal-body">
                                <%= render 'form', user: @user %>
                              </div>
                              
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    
                  </div>
                </div>
              </div>
            </div>

            
          </div>
        </div>
      </div>
    </div>
  </div>

</div>



